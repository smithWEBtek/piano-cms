<!DOCTYPE html>
<html>
<head>
  <title>Piano Students App</title>
</head>
  <body>
    <h1>Piano Students CMS App</h1>
<!-- main navbar -->
<h4><a href="/">HOME  _  </a>
<a href="/signup">SIGNUP  _  </a>
<a href="/login">LOGIN  _  </a>
<a href="/logout">LOGOUT  _  </a>
<a href="/students"> STUDENTS  _  </a>
<a href="/songs">SONGS  _  </a>
<a href="/students/<%="#{@student.username}"%>">MY SONGS  _  </a>
<a href="/songs/:id/edit">EDIT MY SONGS  _  </a>
<a href="/students/:id/edit">EDIT MY INFO</a></h4>

<!-- current Username logged in, or locals message -->
<% if @student %>
    <h4>Username:
    <%= "#{@student.username}" %>
    <br>ID: <%="#{@student.id}"%></h4>
<% else %>
    <h4><%= "Please SIGNUP or LOGIN" %></h4>
<% end %> 

<% unless locals.empty? %>
    <h4><%= message %></h4>
<% end %>

<!-- relevant content -->
<form action="/songs/<%="#{@student.id}"%>" method="POST">
    <input id="hidden" type="hidden" name="_method" value="patch"> 
    <h4><%="#{@student.username}"%>, edit your Songs list below: </h4> 
<% Song.all.order(:name).each do |song| %>
    <input type="checkbox" name="student[song_ids][]" id="song_<%=song.id%>" value="<%= song.id %>" 
    <%='checked' if @student.songs.include?(song)%>><%=song.name%></input>
<%end%><br></br>

<h4>Or, add a new song: </h4>
    <label for "name">Song Name:</label>
    <input type="text" name="student[new_song]" id="new_song" /><br>
    <input type="submit" />
    </form>
  </body>
</html>